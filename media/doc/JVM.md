## 目录

- [Java内存区域](#Java内存区域)
    - [概述](#概述)
    - [运行时数据区](#运行时数据区)
        - [程序计数器](#程序计数器)
        - [Java虚拟机栈](#Java虚拟机栈)
        - [本地方法栈](#本地方法栈)
        - [堆](#堆)
        - [方法区](#方法区)
        - [运行时常量池](#运行时常量池)
        - [直接内存](#直接内存)

## Java内存区域

![运行时数据区](../picture/jvm/Java运行时数据区域JDK1.8.png)

### 概述

内存控制权交给java虚拟机，每一个new操作不用delete/free，了解虚拟机怎样使用内存，内存泄漏和内存溢出问题排查更容易。

### 运行时数据区

#### 程序计数器

* 字节码解释器通过改变程序计数器来依次读取指令，从而实现代码的流程控制，如顺序执行、选择、循环、异常处理。
* 在多线程情况下，程序计数器用于记录当前线程执行位置，从而当前线程被切换回来的时候能够知道上次运行到哪。

#### Java虚拟机栈

由一个个栈帧组成，每个栈帧包括：局部变量表、操作数栈、动态连接、方法出口信息。  
局部变量表存放编译期间的基本数据类型（byte、short、int、long、float、double、char、boolean），对象引用（reference）  

#### 本地方法栈

执行本地方法

#### 堆

存放对象实例  
分为新生代（Eden、Survivor）、老年代

#### 方法区

non-heap（非堆），存储已被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。

#### 运行时常量池

#### 直接内存